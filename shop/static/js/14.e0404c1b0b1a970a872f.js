webpackJsonp([14],{QJUZ:function(e,t){},QZLg:function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=l("Xxa5"),i=l.n(a),n=l("exGp"),s=l.n(n),r={mixins:[l("6N2n").a],data:function(){return{classify:{value:"",classifyData:[]},dialogFormVisible:!1,disabled:!1,title:"新增分类",newClassification:{level1:"",level2:"",parameter:[{item:"cpu",value:""}]},rules:{level1:[{required:!0,message:"请选择一级分类",trigger:"change"}],level2:[{required:!0,message:"请输入二级分类",trigger:"blur"}],parameter:[{validator:function(e,t,l){if(!t.length)return l(new Error("参数至少要有一项"));t.some(function(e){return""===e.item})?l(new Error("参数不能为空")):l()},required:!0,trigger:"blur"}]},tableData:{table:[],total:null}}},methods:{classifyChange:function(e){console.log(e)},getClassify:function(){var e=this;return s()(i.a.mark(function t(){var l,a,n;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$get("/getClassify");case 2:l=t.sent,a=l.res,n=l.total,e.tableData.table=a,e.tableData.total=n;case 7:case"end":return t.stop()}},t,e)}))()},currentChange:function(e){var t=this;return s()(i.a.mark(function l(){var a,n;return i.a.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,t.$get("/getClassify?page="+e);case 2:a=l.sent,n=a.res,t.tableData.table=n;case 5:case"end":return l.stop()}},l,t)}))()},onSubmit:function(){var e=this;console.log(this.newClassification),this.$refs.newClassification.validate(function(t){if(!t)return!1;e.dialogFormVisible=!1,e.$refs.newClassification.resetFields(),alert("此处提交数据!")})},cancel:function(){var e=this;this.$confirm("确定取消?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.dialogFormVisible=!1,e.$refs.newClassification.resetFields(),e.$message({type:"success",message:"已取消"})})},handleClick:function(e){console.log(e),this.title="详情",this.dialogFormVisible=!0,this.disabled=!0},modify:function(e){console.log(e),this.title="修改分类",this.dialogFormVisible=!0}},created:function(){this.getClassify()},mounted:function(){console.log(this.minWidth)}},o={render:function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("el-card",{staticClass:"classification-management"},[l("el-row",{staticClass:"mb30 ml20"},[l("el-col",{attrs:{span:8}},[l("span",{staticClass:"mr5"},[e._v("一级分类：")]),e._v(" "),l("el-select",{attrs:{placeholder:"请选择分类",clearable:""},on:{change:e.classifyChange,clear:e.getClassify},model:{value:e.classify.value,callback:function(t){e.$set(e.classify,"value",t)},expression:"classify.value"}},[l("el-option",{style:{"min-width":e.minWidth+"px"},attrs:{label:"手机",value:"手机"}}),e._v(" "),l("el-option",{attrs:{label:"配件",value:"配件"}})],1)],1),e._v(" "),l("el-col",{attrs:{span:2}},[l("el-button",{attrs:{type:"primary",icon:"el-icon-circle-plus-outline"},on:{click:function(t){e.title="新增分类",e.dialogFormVisible=!0}}},[e._v("新增分类")])],1)],1),e._v(" "),l("el-table",{directives:[{name:"loading",rawName:"v-loading",value:!e.tableData.table.length,expression:"!tableData.table.length ? true : false"}],attrs:{data:e.tableData.table,border:"",stripe:""}},[l("el-table-column",{attrs:{type:"index"}}),e._v(" "),l("el-table-column",{attrs:{align:"center",prop:"level1",label:"一级分类名称"}}),e._v(" "),l("el-table-column",{attrs:{align:"center",prop:"level2",label:"二级分类名称"}}),e._v(" "),l("el-table-column",{attrs:{align:"center",prop:"number",label:"二级分类 ID"}}),e._v(" "),l("el-table-column",{attrs:{align:"center",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("el-tooltip",{attrs:{content:"修改",placement:"top",enterable:!1}},[l("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-edit"},on:{click:function(l){return e.modify(t.row)}}})],1),e._v(" "),l("el-tooltip",{attrs:{content:"查看详情",placement:"top",enterable:!1}},[l("el-button",{attrs:{type:"warning",size:"mini",icon:"el-icon-view"},on:{click:function(l){return e.handleClick(t.row)}}})],1)]}}])})],1),e._v(" "),l("div",{staticClass:"paging mt10"},[l("el-pagination",{attrs:{background:"",layout:"prev, pager, next, jumper",total:e.tableData.total},on:{"current-change":e.currentChange}})],1),e._v(" "),l("el-dialog",{attrs:{title:e.title,visible:e.dialogFormVisible,"show-close":e.disabled,"close-on-click-modal":e.disabled,"close-on-press-escape":e.disabled},on:{"update:visible":function(t){e.dialogFormVisible=t},closed:function(t){e.disabled=!1}}},[l("el-form",{ref:"newClassification",attrs:{model:e.newClassification,rules:e.rules,disabled:e.disabled,"label-width":"100px"},nativeOn:{submit:function(t){return t.preventDefault(),e.onSubmit(t)}}},[l("el-form-item",{attrs:{label:"一级分类",prop:"level1"}},[l("el-select",{attrs:{placeholder:"请选择一级分类",clearable:""},model:{value:e.newClassification.level1,callback:function(t){e.$set(e.newClassification,"level1",t)},expression:"newClassification.level1"}},[l("el-option",{attrs:{label:"手机",value:"手机"}}),e._v(" "),l("el-option",{attrs:{label:"配件",value:"配件"}})],1)],1),e._v(" "),l("el-form-item",{attrs:{label:"二级分类",prop:"level2"}},[l("el-input",{attrs:{placeholder:"添加二级分类",clearable:""},model:{value:e.newClassification.level2,callback:function(t){e.$set(e.newClassification,"level2",t)},expression:"newClassification.level2"}})],1),e._v(" "),l("el-form-item",{staticClass:"mt20",attrs:{label:"参数",prop:"parameter"}},[l("el-table",{attrs:{data:e.newClassification.parameter,border:"",stripe:""}},[l("el-table-column",{attrs:{width:"60px",align:"center"},scopedSlots:e._u([{key:"header",fn:function(t){return[l("el-tooltip",{directives:[{name:"show",rawName:"v-show",value:!e.disabled,expression:"!disabled"}],attrs:{content:"添加",placement:"top"}},[l("i",{staticClass:"del el-icon-circle-plus-outline f22",on:{click:function(t){return e.newClassification.parameter.push({item:"",value:""})}}})]),e._v("\n                            "+e._s(e.disabled?"#":"")+"\n                        ")]}},{key:"default",fn:function(t){return[e._v(e._s(t.$index+1))]}}])}),e._v(" "),l("el-table-column",{attrs:{label:"参数项",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("el-input",{attrs:{size:"mini"},model:{value:t.row.item,callback:function(l){e.$set(t.row,"item",l)},expression:"scope.row.item"}})]}}])}),e._v(" "),e.disabled?e._e():l("el-table-column",{attrs:{width:"60px",label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("el-tooltip",{attrs:{content:"移除",placement:"top"}},[l("i",{staticClass:"del el-icon-delete f22",on:{click:function(l){return e.newClassification.parameter.splice(t.$index,1)}}})])]}}],null,!1,3846330929)})],1)],1),e._v(" "),l("el-form-item",{directives:[{name:"show",rawName:"v-show",value:!e.disabled,expression:"!disabled"}],staticStyle:{"text-align":"right",margin:"0"}},[l("el-button",{on:{click:e.cancel}},[e._v("取 消")]),e._v(" "),l("el-button",{attrs:{type:"primary","native-type":"submit"}},[e._v("确 定")])],1)],1)],1)],1)},staticRenderFns:[]};var c=l("VU/8")(r,o,!1,function(e){l("QJUZ")},"data-v-19274d6d",null);t.default=c.exports}});
//# sourceMappingURL=14.e0404c1b0b1a970a872f.js.map