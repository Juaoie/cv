webpackJsonp([1],{lbkD:function(e,t){},weg5:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s("Gu7T"),o=s.n(n),a={data:function(){return{msg:"",userInfo:{},post_data:[],ops:{rail:{background:"#f5f5f5",border:"1px solid #cecece",size:"7px"},bar:{background:"#999",keepShow:!0,size:"5px",minSize:0},scrollButton:{enable:!0,background:"#cecece"},scrollPanel:{easing:"easeInQuad",speed:800},vuescroll:{wheelScrollDuration:0,wheelDirectionReverse:!1}}}},created:function(){this.userInfo=JSON.parse(localStorage.getItem("userInfo")),this.$socket.emit("getChatMsg")},mounted:function(){},methods:{scrollEvent:function(){console.log("滚动结束")},setChatMsg:function(e){this.$socket.emit("setChatMsg",{msg:this.msg,user_id:this.userInfo.user_id})}},sockets:{connect:function(e){},getLineNum:function(e){console.log("getLineNum",e)},getChatMsg:function(e){var t,s=this;(t=this.post_data).push.apply(t,o()(e)),this.post_data.sort(function(e,t){return e.id-t.id});var n=e[e.length-1].id;this.$nextTick(function(){n===s.post_data[s.post_data.length-1].id&&s.$refs.vs.scrollIntoView("#id"+n,500)})}}},i={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("el-row",{staticClass:"df jcc"},[s("el-col",{attrs:{span:18}},[s("el-row",{staticClass:"chatWindw df ffcn"},[s("vue-scroll",{ref:"vs",attrs:{ops:e.ops},on:{scroll:e.scrollEvent}},[s("div",{staticClass:"p20"},e._l(e.post_data,function(t){return s("div",{key:t.id,staticClass:"df aifs ptb10",class:[t.user_id==e.userInfo.user_id?"jcfe":"jcfs"],attrs:{id:["id"+t.id]}},[s("el-avatar",{class:[t.user_id==e.userInfo.user_id?"o2":"o0"],attrs:{shape:"square",size:"medium",src:t.user_head}}),e._v(" "),s("div",{staticClass:"text o1 mlr10"},[e._v(e._s(t.msg))])],1)}),0)])],1),e._v(" "),s("el-row",{staticClass:"sendText"},[s("el-col",[s("el-input",{staticClass:"inputSen",attrs:{placeholder:"请输入...",type:"textarea"},model:{value:e.msg,callback:function(t){e.msg=t},expression:"msg"}})],1),e._v(" "),s("el-col",[s("el-button",{staticClass:"buttonSen",attrs:{type:"info",plain:""},on:{click:e.setChatMsg}},[e._v("发送")])],1)],1)],1)],1)],1)},staticRenderFns:[]};var c=s("VU/8")(a,i,!1,function(e){s("lbkD")},null,null);t.default=c.exports}});
//# sourceMappingURL=1.8214951af1c3c4c46e9c.js.map