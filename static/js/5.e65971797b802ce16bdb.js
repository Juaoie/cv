webpackJsonp([5],{TWBs:function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=t("mvHQ"),n=t.n(o),s=t("Dd8w"),i=t.n(s),l=(t("mtWM"),{name:"login",data:function(){return{form:{user_id:"",password:"",checked:!1},rules:{user_id:[{required:!0,message:"请输入账号",trigger:"blur"},{min:5,max:16,message:"长度在 5 到 16 个字符",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,max:16,message:"长度在 6 到 16 个字符",trigger:"blur"}]}}},mounted:function(){},methods:{login:function(){var e=this,r=this.$loading({lock:!0,text:"拼命加载中...",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.8)"});this.$post("user/login",{user_id:this.form.user_id,password:this.form.password}).then(function(t){if(!t.user_id)return e.$notify({title:"提示",message:t,type:"warning"}),void r.close();i()({password:e.form.password},t);localStorage.setItem("userInfo",n()(t)),r.close(),e.$router.replace("/page")}).catch(function(e){r.close()})},handleLogin:function(){var e=this;console.log(this.$refs),this.$refs.ruleForm.validate(function(r){if(!r)return r;e.login()})}}}),a={render:function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticClass:"login df aic jcc"},[t("el-form",{ref:"ruleForm",staticClass:"plr40 br10 login-form",attrs:{rules:e.rules,model:e.form,"hide-required-asterisk":""}},[t("h3",[e._v("后台系统")]),e._v(" "),t("el-form-item",{attrs:{prop:"user_id"}},[t("el-input",{attrs:{autofocus:"",clearable:"",type:"text","prefix-icon":"el-icon-user-solid",placeholder:"请输入账号"},nativeOn:{keyup:function(r){return!r.type.indexOf("key")&&e._k(r.keyCode,"enter",13,r.key,"Enter")?null:e.handleLogin(r)}},model:{value:e.form.user_id,callback:function(r){e.$set(e.form,"user_id",r)},expression:"form.user_id"}})],1),e._v(" "),t("el-form-item",{attrs:{prop:"password"}},[t("el-input",{attrs:{"prefix-icon":"el-icon-lock",placeholder:"请输入密码","show-password":""},nativeOn:{keyup:function(r){return!r.type.indexOf("key")&&e._k(r.keyCode,"enter",13,r.key,"Enter")?null:e.handleLogin(r)}},model:{value:e.form.password,callback:function(r){e.$set(e.form,"password",r)},expression:"form.password"}})],1),e._v(" "),t("el-form-item",[t("el-checkbox",{model:{value:e.form.checked,callback:function(r){e.$set(e.form,"checked",r)},expression:"form.checked"}},[e._v("记住我")])],1),e._v(" "),t("el-form-item",[t("el-button",{staticClass:"df aic jcc login-button",attrs:{type:"primary"},nativeOn:{click:function(r){return r.preventDefault(),e.handleLogin(r)}}},[t("span",[e._v("登录")])])],1)],1)],1)},staticRenderFns:[]};var u=t("VU/8")(l,a,!1,function(e){t("kKtw")},null,null);r.default=u.exports},kKtw:function(e,r){}});
//# sourceMappingURL=5.e65971797b802ce16bdb.js.map